import{a as d}from"./axios-Bo0ATomq.js";import{S as p}from"./sweetalert2.all-DF4Yg8So.js";import{a as h,e as m,f,g as e,i as o,j as r,k as n,l as s,H as i,h as x,r as R,o as g,m as E,F as V,R as y}from"./index-owVnkv8S.js";import{L as T}from"./index-pYsHbBkW.js";import{_ as w}from"./plugin-vueexport-helper-DlAUqK2U.js";var L={VITE_URL:"https://vue3-course-api.hexschool.io",VITE_PATH:"payzoom",BASE_URL:"/GDiner/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const b={class:"bg-secondary"},A={class:"nav-list flex flex-col gap-10 py-8 h-full"},z={class:"mt-auto"},D={__name:"AdminNavbar",setup(v){const{VITE_URL:c}=L,l=h();function t(){d.post(`${c}/v2/logOut`).then(()=>{document.cookie="myToken=; expires=; path=/",p.fire({icon:"success",title:"登出成功",didClose:()=>{l.push("/")}})}).catch(a=>{p.fire({icon:"error",text:`${a.response.data.message}`})})}return(a,u)=>(m(),f("nav",b,[e("ul",A,[e("li",null,[o(s(i),{to:"/admin/products",class:"block px-8 py-4 ml-8 rd-[100vw_0_0_100vw] font-size-8"},{default:r(()=>[n("產品 ")]),_:1})]),e("li",null,[o(s(i),{to:"/admin/orders",class:"block px-8 py-4 ml-8 rd-[100vw_0_0_100vw] font-size-8"},{default:r(()=>[n("訂單 ")]),_:1})]),e("li",null,[o(s(i),{to:"/admin/coupons",class:"block px-8 py-4 ml-8 rd-[100vw_0_0_100vw] font-size-8"},{default:r(()=>[n("優惠券 ")]),_:1})]),e("li",z,[e("a",{href:"#",class:"block px-8 ml-8 font-size-4",onClick:x(t,["prevent"])},"登出")]),e("li",null,[o(s(i),{to:"/",class:"block px-8 py-4 ml-8 font-size-4"},{default:r(()=>[n("回前台 ")]),_:1})])])]))}},S=w(D,[["__scopeId","data-v-fe0b3e27"]]);var I={VITE_URL:"https://vue3-course-api.hexschool.io",VITE_PATH:"payzoom",BASE_URL:"/GDiner/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const $={class:"grid grid-cols-[20rem_1fr] gap-2 h-screen"},C={key:0},P={__name:"AdminLayout",setup(v){const{VITE_URL:c}=I,l=h(),t=R(!1);function a(){var _;const u=(_=document.cookie.split("; ").find(k=>k.startsWith("myToken=")))==null?void 0:_.split("=")[1];d.defaults.headers.common.Authorization=u,d.post(`${c}/v2/api/user/check`).then(()=>{t.value=!0}).catch(()=>{t.value=!0,p.fire({title:"請先登入",icon:"error",didClose:()=>{l.push("/login")}})})}return g(()=>{a()}),(u,_)=>(m(),f(V,null,[o(s(T),{active:!t.value,"full-page":!0},null,8,["active"]),e("div",$,[o(S),t.value?(m(),f("div",C,[o(s(y))])):E("",!0)])],64))}};export{P as default};
