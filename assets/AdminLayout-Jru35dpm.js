import{a as d}from"./axios-Bo0ATomq.js";import{S as p}from"./sweetalert2.all-BD7UMsDl.js";import{_ as x,a as h,e as m,f,g as e,i as t,j as n,k as i,l as s,G as r,h as R,r as g,o as E,m as V,F as y,R as T}from"./index-DQmpIAIG.js";import{L as w}from"./index-BhXsJVMU.js";var L={VITE_URL:"https://vue3-course-api.hexschool.io",VITE_PATH:"payzoom",BASE_URL:"/GDiner/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const A={class:"bg-secondary"},b={class:"nav-list flex flex-col gap-10 py-8 h-full"},z={class:"mt-auto"},D={__name:"AdminNavbar",setup(v){const{VITE_URL:c}=L,l=h();function o(){d.post(`${c}/v2/logOut`).then(()=>{document.cookie="myToken=; expires=; path=/",p.fire({icon:"success",title:"登出成功",didClose:()=>{l.push("/")}})}).catch(a=>{p.fire({icon:"error",text:`${a.response.data.message}`})})}return(a,u)=>(m(),f("nav",A,[e("ul",b,[e("li",null,[t(s(r),{to:"/admin/adminProducts",class:"block px-8 py-4 ml-8 rd-[100vw_0_0_100vw] font-size-8"},{default:n(()=>[i("產品 ")]),_:1})]),e("li",null,[t(s(r),{to:"/admin/adminOrders",class:"block px-8 py-4 ml-8 rd-[100vw_0_0_100vw] font-size-8"},{default:n(()=>[i("訂單 ")]),_:1})]),e("li",null,[t(s(r),{to:"/admin/adminCoupons",class:"block px-8 py-4 ml-8 rd-[100vw_0_0_100vw] font-size-8"},{default:n(()=>[i("優惠券 ")]),_:1})]),e("li",z,[t(s(r),{to:"/",class:"block px-8 py-4 ml-8 font-size-4"},{default:n(()=>[i("回前台 ")]),_:1})]),e("li",null,[e("a",{href:"#",class:"block px-8 ml-8 font-size-4",onClick:R(o,["prevent"])},"登出")])])]))}},S=x(D,[["__scopeId","data-v-c2517197"]]);var C={VITE_URL:"https://vue3-course-api.hexschool.io",VITE_PATH:"payzoom",BASE_URL:"/GDiner/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const I={class:"grid grid-cols-[20rem_1fr] gap-2 h-screen"},O={key:0},P={__name:"AdminLayout",setup(v){const{VITE_URL:c}=C,l=h(),o=g(!1);function a(){var _;const u=(_=document.cookie.split("; ").find(k=>k.startsWith("myToken=")))==null?void 0:_.split("=")[1];d.defaults.headers.common.Authorization=u,d.post(`${c}/v2/api/user/check`).then(()=>{o.value=!0}).catch(()=>{o.value=!0,p.fire({title:"請重新登入",icon:"error",didClose:()=>{l.push("/login")}})})}return E(()=>{a()}),(u,_)=>(m(),f(y,null,[t(s(w),{active:!o.value,"full-page":!0},null,8,["active"]),e("div",I,[t(S),o.value?(m(),f("div",O,[t(s(T))])):V("",!0)])],64))}};export{P as default};
