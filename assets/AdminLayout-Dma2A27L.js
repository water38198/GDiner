import{a as d,S as p}from"./sweetalert2.all-BG_37rGc.js";import{a as h,e as m,f,g as e,j as o,k as a,l,m as t,G as n,h as x,r as R,o as g,i as y,F as E,R as V}from"./index-BGcmftwk.js";import{L as w}from"./index-CegEb7TS.js";import{_ as T}from"./plugin-vueexport-helper-DlAUqK2U.js";var b={VITE_URL:"https://vue3-course-api.hexschool.io",VITE_PATH:"payzoom",BASE_URL:"/GDiner/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const L={class:"bg-secondary"},z={class:"nav-list flex flex-col gap-10 py-8 h-full"},A={class:"mt-auto"},D={__name:"AdminNavbar",setup(v){const{VITE_URL:i}=b,c=h();function s(){d.post(`${i}/v2/logOut`).then(()=>{document.cookie="myToken=; expires=; path=/",p.fire({icon:"success",title:"登出成功",didClose:()=>{c.push("/")}})}).catch(r=>{p.fire({icon:"error",text:`${r.response.data.message}`})})}return(r,_)=>(m(),f("nav",L,[e("ul",z,[e("li",null,[o(t(n),{to:"/admin/home",class:"block px-8 py-4 ml-8 rd-[100vw_0_0_100vw] font-size-8"},{default:a(()=>[l("總覽 ")]),_:1})]),e("li",null,[o(t(n),{to:"/admin/products",class:"block px-8 py-4 ml-8 rd-[100vw_0_0_100vw] font-size-8"},{default:a(()=>[l("產品 ")]),_:1})]),e("li",null,[o(t(n),{to:"/admin/orders",class:"block px-8 py-4 ml-8 rd-[100vw_0_0_100vw] font-size-8"},{default:a(()=>[l("訂單 ")]),_:1})]),e("li",null,[o(t(n),{to:"/admin/coupons",class:"block px-8 py-4 ml-8 rd-[100vw_0_0_100vw] font-size-8"},{default:a(()=>[l("優惠券 ")]),_:1})]),e("li",A,[e("a",{href:"#",class:"block px-8 ml-8 font-size-4",onClick:x(s,["prevent"])},"登出")]),e("li",null,[o(t(n),{to:"/",class:"block px-8 py-4 ml-8 font-size-4"},{default:a(()=>[l("回前台 ")]),_:1})])])]))}},S=T(D,[["__scopeId","data-v-e402ab64"]]);var I={VITE_URL:"https://vue3-course-api.hexschool.io",VITE_PATH:"payzoom",BASE_URL:"/GDiner/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const $={class:"grid grid-cols-[20rem_1fr] gap-2 h-screen"},C={key:0},M={__name:"AdminLayout",setup(v){const{VITE_URL:i}=I,c=h(),s=R(!1);function r(){var u;const _=(u=document.cookie.split("; ").find(k=>k.startsWith("myToken=")))==null?void 0:u.split("=")[1];d.defaults.headers.common.Authorization=_,d.post(`${i}/v2/api/user/check`).then(()=>{s.value=!0}).catch(()=>{s.value=!0,p.fire({title:"請先登入",icon:"error",didClose:()=>{c.push("/login")}})})}return g(()=>{r()}),(_,u)=>(m(),f(E,null,[o(t(w),{active:!s.value,"full-page":!0},null,8,["active"]),e("div",$,[o(S),s.value?(m(),f("div",C,[o(t(V))])):y("",!0)])],64))}};export{M as default};
