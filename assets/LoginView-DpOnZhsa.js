import{a as m,r as l,f,i as _,l as v,g as e,p as u,v as d,q as w,F as h,e as g}from"./index-DQmpIAIG.js";import{a as x}from"./axios-Bo0ATomq.js";import{S as r}from"./sweetalert2.all-BD7UMsDl.js";import{L as b}from"./index-BhXsJVMU.js";var y={VITE_URL:"https://vue3-course-api.hexschool.io",VITE_PATH:"payzoom",BASE_URL:"/GDiner/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const E={class:"container"},V={action:"",ref:"loginForm",class:"max-w-100 mx-auto pt-20"},k=e("h1",{class:"text-center font-size-12 mb-8 font-medium"},"登入",-1),L={class:"custom-input-group mb-4"},D=e("label",{for:"email"},"Email address",-1),R={class:"custom-input-group mb-4 position-relative"},T=e("label",{for:"password"},"Password",-1),z={__name:"LoginView",setup(B){const{VITE_URL:p}=y,c=m(),o=l({username:"",password:""}),i=l(!1);function n(){if(o.value.username===""||o.value.password===""){r.fire({icon:"warning",title:"請正確填寫資訊"});return}i.value=!0,x.post(`${p}/v2/admin/signin`,o.value).then(s=>{const{expired:t,token:a}=s.data;document.cookie=`myToken = ${a}; expires = ${new Date(t)} `,r.fire({showConfirmButton:!1,icon:"success",title:"登入成功",timer:1e3,didClose:()=>{c.replace("/admin")}})}).catch(s=>{r.fire({title:"登入失敗",icon:"error",text:`${(s==null?void 0:s.response.data.error.message)||""}`})}).finally(()=>{i.value=!1})}return(s,t)=>(g(),f(h,null,[_(v(b),{active:i.value,"full-page":!0},null,8,["active"]),e("main",null,[e("div",E,[e("form",V,[k,e("div",L,[u(e("input",{type:"email",id:"email",placeholder:"Email address","onUpdate:modelValue":t[0]||(t[0]=a=>o.value.username=a)},null,512),[[d,o.value.username]]),D]),e("div",R,[u(e("input",{type:"password",id:"password",placeholder:"Password","onUpdate:modelValue":t[1]||(t[1]=a=>o.value.password=a),onKeyup:w(n,["enter"])},null,544),[[d,o.value.password]]),T]),e("button",{type:"button",onClick:n,class:"block w-100% text-white bg-primary hover:bg-primary-light border-0 rd-3 px-4 py-2 font-size-5 cursor-pointer"},"登入")],512)])])],64))}};export{z as default};
