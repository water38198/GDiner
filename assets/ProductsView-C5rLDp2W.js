import{_ as C,o as s,c as a,a as d,F as m,g,b as u,w,d as P,t as k,n as x,u as c,R as V,r as b,l as f,m as L,e as $,B,x as F,f as N,z as q}from"./index-DeJfmtbo.js";import{P as R,u as z}from"./ProductCard-DHz2MoBr.js";import{_ as A}from"./PaginationComponent-BS_lQwJQ.js";import"./index-Dsg3z6B6.js";import"./index-CO1L_0eG.js";const S={class:"mb-10"},T={class:"nav justify-content-center"},j={__name:"ProductsFilter",props:{currentCategory:{type:String,required:!0}},setup(l){const t=l,r=["全部","主食","沙拉","湯品","副食","甜點","飲料","套餐"];return(o,n)=>(s(),a("div",S,[d("ul",T,[(s(),a(m,null,g(r,e=>d("li",{key:e,class:"nav-item"},[u(c(V),{to:`/products?category=${e}`,class:x(["nav-link fs-5",{active:t.currentCategory===e}])},{default:w(()=>[P(k(e),1)]),_:2},1032,["to","class"])])),64))]),n[0]||(n[0]=d("hr",null,null,-1))]))}},D=C(j,[["__scopeId","data-v-3b41523d"]]),E={class:"list-unstyled row row-cols-2 row-cols-md-3 row-cols-lg-4 gy-4"},I={__name:"ProductsList",props:{products:{type:Array,required:!0}},setup(l){const t=l,r=b(t.products);return f(()=>t.products,o=>{r.value=o}),(o,n)=>(s(),a("ul",E,[(s(!0),a(m,null,g(r.value,e=>(s(),a("li",{key:e.id,"data-aos":"fade-up"},[u(R,{product:e},null,8,["product"])]))),128))]))}},M={class:"mb-10 container min-vh-100"},Q={__name:"ProductsView",setup(l){const t=L(()=>r.query.category||"全部"),r=q(),{getProducts:o,products:n,isLoading:e,pagination:p}=z();$(()=>{o(t.value,1)});const v=i=>{o(t.value,i),window.scrollTo({top:0,behavior:"smooth"})},y=i=>{o(i,1)};return f(t,()=>{o(t.value,1)}),(i,_)=>{const h=N("VLoading");return s(),a("div",M,[u(h,{active:c(e)},null,8,["active"]),_[0]||(_[0]=d("h2",{class:"mt-8 fs-1 fw-bold"},"料理",-1)),u(D,{onChangeCategory:y,"current-category":t.value},null,8,["current-category"]),u(I,{products:c(n)},null,8,["products"]),c(p).total_pages>1?(s(),B(A,{key:0,pagination:c(p),onChangePage:v},null,8,["pagination"])):F("",!0)])}}};export{Q as default};
