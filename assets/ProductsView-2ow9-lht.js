import{_ as w,o,c as i,a as s,F as f,g as h,b as _,w as x,d as $,t as k,n as m,u as g,R as V,r as b,l as y,q as v,m as L,e as q,B,x as N,f as F,z as j}from"./index-CmgD-ALe.js";import{P as R,u as z}from"./ProductCard-T8pPQhP7.js";import"./index-CB1397zG.js";import"./index-B4CFkyds.js";const A={class:"mb-10"},M={class:"nav justify-content-center"},S={__name:"ProductsFilter",props:{currentCategory:{type:String,required:!0}},setup(d){const t=d,r=["全部","主食","沙拉","湯品","副食","甜點","飲料","套餐"];return(e,u)=>(o(),i("div",A,[s("ul",M,[(o(),i(f,null,h(r,a=>s("li",{key:a,class:"nav-item"},[_(g(V),{to:`/products?category=${a}`,class:m(["nav-link fs-5",{active:t.currentCategory===a}])},{default:x(()=>[$(k(a),1)]),_:2},1032,["to","class"])])),64))]),u[0]||(u[0]=s("hr",null,null,-1))]))}},T=w(S,[["__scopeId","data-v-3b41523d"]]),D={class:"list-unstyled row row-cols-2 row-cols-md-3 row-cols-lg-4 gy-4"},E={__name:"ProductsList",props:{products:{type:Array,required:!0}},setup(d){const t=d,r=b(t.products);return y(()=>t.products,e=>{r.value=e}),(e,u)=>(o(),i("ul",D,[(o(!0),i(f,null,h(r.value,a=>(o(),i("li",{key:a.id,"data-aos":"fade-up"},[_(R,{product:a},null,8,["product"])]))),128))]))}},I={"aria-label":"Page navigation example",class:"mb-10"},O={class:"pagination justify-content-center border-0"},G=["onClick"],H={__name:"PaginationComponent",props:{pagination:{type:Object,required:!0}},emits:["change-page"],setup(d,{emit:t}){const r=d,e=b(r.pagination);y(()=>r.pagination,l=>{e.value=l});const u=t,a=l=>{u("change-page",l)};return(l,n)=>(o(),i("nav",I,[s("ul",O,[s("li",{class:m(["page-item",{disabled:!e.value.has_pre}])},[s("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:n[0]||(n[0]=v(c=>a("-"),["prevent"]))},n[2]||(n[2]=[s("span",{"aria-hidden":"true"},"«",-1)]))],2),(o(!0),i(f,null,h(e.value.total_pages,c=>(o(),i("li",{key:c,class:m(["page-item",{active:e.value.current_page===c}])},[s("a",{class:"page-link",href:"#",onClick:v(p=>a(c),["prevent"])},k(c),9,G)],2))),128)),s("li",{class:m(["page-item",{disabled:!e.value.has_next}])},[s("a",{class:"page-link",href:"#","aria-label":"Next",onClick:n[1]||(n[1]=v(c=>a("+"),["prevent"]))},n[3]||(n[3]=[s("span",{"aria-hidden":"true"},"»",-1)]))],2)])]))}},J={class:"mb-10 container min-vh-100"},X={__name:"ProductsView",setup(d){const t=L(()=>r.query.category||"全部"),r=j(),{getProducts:e,products:u,isLoading:a,pagination:l}=z();q(()=>{e(t.value,1)});const n=p=>{p==="+"?e(t.value,l.value.current_page++):p==="-"?e(t.value,l.value.current_page--):e(t.value,p),window.scrollTo({top:0,behavior:"smooth"})},c=p=>{e(p,1)};return y(t,()=>{e(t.value,1)}),(p,C)=>{const P=F("VLoading");return o(),i("div",J,[_(P,{active:g(a)},null,8,["active"]),C[0]||(C[0]=s("h2",{class:"mt-8 fs-1 fw-bold"},"料理",-1)),_(T,{onChangeCategory:c,"current-category":t.value},null,8,["current-category"]),_(E,{products:g(u)},null,8,["products"]),g(l).total_pages>1?(o(),B(H,{key:0,pagination:g(l),onChangePage:n},null,8,["pagination"])):N("",!0)])}}};export{X as default};
